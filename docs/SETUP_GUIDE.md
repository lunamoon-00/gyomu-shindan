# セットアップ手順（やさしい版）

難しいときは、この順番でやってみてください。

---

## ステップ1: フォルダに移動する

ターミナル（PowerShell）を開いて、プロジェクトのフォルダに移動します。

```
cd Desktop\sindan
```

※ 今 `C:\Users\PC_User\` にいる場合

---

## ステップ2: 起動する

```
npm run dev
```

問題なければ、ブラウザで http://localhost:3000 を開きます。

---

## ステップ3: 診断を試す

1. フォームに必須項目を入力する
2. 「無料で診断結果を見る」をクリック
3. 結果が表示されればOK

※ `NEXT_PUBLIC_USE_MOCK` が未設定または `true` のときはモックで動くため、GAS がなくても動作します。

---

## ステップ4: 相談フォームのメールエラーを試す（H1の確認）

1. 診断結果画面で「診断内容について相談する」までスクロール
2. メール欄に `test` など不正な値を入れる
3. 「診断内容について相談する」ボタンをクリック
4. 「正しいメールアドレスを入力してください。」と出ればOK

※ 相談メールが未設定の場合は「相談機能の設定が完了していません。」と出ます。正常です。

---

## ステップ5: 試算値の注釈を確認する（C2の確認）

診断結果画面で、以下の文言が表示されていればOKです。

- KPIの上あたり: 「※試算値・目安です。実際の数値は状況により異なります。」
- ROIの下あたり: 「※試算値です」

---

## Vercel にデプロイした場合

- **環境変数なし** でもそのまま動作します（モックモードがデフォルト）
- 診断結果・相談フォームまで試せます（相談はメール未設定だと「設定が完了していません」と表示）
- GAS と連携したいときだけ、Vercel の「Settings → Environment Variables」で以下を追加：
  - `GAS_URL` … GAS Web App の URL
  - `NEXT_PUBLIC_CONSULT_EMAIL` … 相談メール先
  - `NEXT_PUBLIC_USE_MOCK` … `false`（本番API利用時）

---

## 困ったとき

| 症状 | 対処 |
|------|------|
| `npm run dev` がエラー | 先に `npm install` を実行 |
| 別のフォルダで実行してエラー | `cd Desktop\sindan` で移動してから再実行 |
| 診断送信でエラー | `NEXT_PUBLIC_USE_MOCK` を未設定か `true` にするとモックで動作 |
| 相談で「設定が完了していません」 | `.env.local` に `NEXT_PUBLIC_CONSULT_EMAIL=あなたのメール` を追加 |
